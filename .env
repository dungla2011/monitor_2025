# Database Configuration  
# DB_TYPE can be 'mysql' or 'postgresql'
DB_TYPE=postgresql
# DB_TYPE=mysql

# MySQL Configuration
MYSQL_HOST=12.0.0.54
MYSQL_PORT=3306
MYSQL_USER=for_sync
MYSQL_PASSWORD=Qaz@12abc_000
MYSQL_NAME=glx_monitor_v2

# PostgreSQL Configuration (alternative)
#POSTGRES_HOST=10.0.0.19
POSTGRES_HOST=pg235
POSTGRES_PORT=5432
POSTGRES_USER=admin
POSTGRES_PASSWORD=Qqqppp123
POSTGRES_NAME=monitor_v2

# Legacy support (will be removed in future versions)
DB_HOST=12.0.0.54
DB_PORT=3306
DB_USER=for_sync
DB_PASSWORD=Qaz@12abc_000
DB_NAME=glx_monitor_v2

# HTTP API Server Configuration
HTTP_PORT=5005
HTTP_HOST=0.0.0.0

# Admin Domain Configuration
ADMIN_DOMAIN=mon.lad.vn

# Web Admin Authentication
WEB_ADMIN_USERNAME=admin
WEB_ADMIN_PASSWORD=qqqppp@123

# Telegram Configuration (Optional)
# Get bot token from @BotFather on Telegram
#TELEGRAM_BOT_TOKEN=8040174107:AAE-XqU-XaV0Y7v30pjZgbfGzHq88LQx0HQ

# # Get chat ID by messaging your bot and visiting: https://api.telegram.org/bot{YOUR_BOT_TOKEN}/getUpdates
#TELEGRAM_CHAT_ID=-4878499254

# # Enable/Disable Telegram notifications
TELEGRAM_ENABLED=true
 
# Webhook settings
WEBHOOK_THROTTLE_ENABLED=true    # false = send every error, true = throttle errors
WEBHOOK_THROTTLE_SECONDS=30      # throttle duration for errors

# Telegram settings  
TELEGRAM_THROTTLE_ENABLED=false   # false = send every error, true = throttle errors
TELEGRAM_THROTTLE_SECONDS=30     # throttle duration for errors


# Alert Throttling Configuration
CONSECUTIVE_ERROR_THRESHOLD=10
EXTENDED_ALERT_INTERVAL_MINUTES=5

# AsyncIO Thread Pool Configuration
# Thread multiplier: Number of threads = CPU_CORES * ASYNC_THREAD_MULTIPLIER
# Recommended values:
#   - Conservative: 2-4 (for low memory systems)
#   - Balanced: 4-6 (recommended for most systems)
#   - Aggressive: 6-8 (for high-performance systems)
#   - High-Load: 8-12 (for 3000+ monitors)
ASYNC_THREAD_MULTIPLIER=10

# Maximum number of threads in the pool
# This caps the total threads regardless of CPU cores
# Recommended values:
#   - Small systems (4-8 CPU cores): 50-100
#   - Medium systems (8-16 CPU cores): 100-150
#   - Large systems (16+ CPU cores): 150-200
#   - High-Load systems (3000+ monitors): 300-500
ASYNC_MAX_THREADS=400

# High-load specific configurations for 3000+ monitors
# Batch processing settings
ASYNC_STARTUP_BATCH_SIZE=50
ASYNC_STARTUP_DELAY_MS=5

# Database connection pooling for high concurrency
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=50

# HTTP Request Timeout Configuration (in seconds)
# For high-load scenarios, shorter timeouts prevent bottlenecks
# Optimized for 3000+ monitors - aggressive timeouts
HTTP_TOTAL_TIMEOUT=10        # Total request timeout (reduced from 15s)
HTTP_CONNECT_TIMEOUT=3       # Connection establishment timeout (reduced from 5s)
ICMP_PING_TIMEOUT=5         # ICMP ping timeout
TCP_PORT_TIMEOUT=5          # TCP port check timeout
SSL_CHECK_TIMEOUT=10        # SSL certificate check timeout

# Alternative conservative settings for resource-constrained environments:
# ASYNC_THREAD_MULTIPLIER=4
# ASYNC_MAX_THREADS=100

# ===== ASYNCIO CONFIGURATION FOR 3000+ MONITORS =====
# Core AsyncIO Settings
ASYNC_MAX_CONCURRENT=2000     # Max concurrent checks per thread (increased from 500)
ASYNC_POOL_SIZE=200           # Database pool size (increased from 50)
ASYNC_HTTP_TIMEOUT=30         # HTTP timeout seconds
ASYNC_CHECK_INTERVAL=60       # Default check interval
ASYNC_MULTI_THREAD=true       # Enable multi-threading
ASYNC_THREAD_COUNT=8         # Number of AsyncIO threads (increase based on CPU cores)

# Performance Tuning for 3000 Monitors
ASYNC_CONNECTION_LIMIT=2000   # HTTP connection limit
ASYNC_CONNECTION_LIMIT_PER_HOST=100  # Per-host connection limit
ASYNC_DNS_CACHE_SIZE=1000     # DNS cache entries
ASYNC_KEEPALIVE_TIMEOUT=30    # Keep-alive timeout

# ===== TIMESCALEDB CONFIGURATION =====
# Enable/Disable TimescaleDB time-series logging
TIMESCALEDB_ENABLED=true      # Set to false to disable TimescaleDB logging
TIMESCALEDB_SCHEMA=glx_monitor_v2  # Schema name for TimescaleDB tables

# TimescaleDB Logging Options
TIMESCALEDB_LOG_CHECKS=true   # Log monitor check results
TIMESCALEDB_LOG_METRICS=true  # Log system performance metrics



